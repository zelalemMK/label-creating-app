(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[456],{5980:(e,s,r)=>{Promise.resolve().then(r.bind(r,8171))},6046:(e,s,r)=>{"use strict";var t=r(6658);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},8171:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(5155),l=r(2115),n=r(6046);function o(){let e=(0,n.useRouter)(),[s,r]=(0,l.useState)("loading"),[o,a]=(0,l.useState)(null),[c,i]=(0,l.useState)(null);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{r("processing");let e=await fetch("/api/process",{method:"GET"});if(!e.ok)throw Error("Processing failed");let s=await e.json();a(s.downloadUrl),r("completed")}catch(e){console.error("Processing error:",e),i(e.message),r("error")}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,t.jsx)("div",{className:"text-center p-8 border border-black",children:"loading"===s||"processing"===s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Processing Files"}),(0,t.jsx)("div",{className:"animate-spin border-t-2 border-black h-8 w-8 rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{children:"Please wait while we process your files..."})]}):"completed"===s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Files Ready"}),(0,t.jsx)("p",{className:"mb-8",children:"Your documents have been generated successfully."}),(0,t.jsx)("a",{href:o,download:!0,className:"px-6 py-2 bg-black text-white rounded hover:bg-gray-800 inline-block mb-4",children:"Download Files"}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"px-6 py-2 border border-black rounded hover:bg-gray-100",children:"Return Home"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Error"}),(0,t.jsx)("p",{className:"mb-8 text-black",children:c||"Something went wrong"}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"px-6 py-2 bg-black text-white rounded hover:bg-gray-800",children:"Try Again"})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(5980)),_N_E=e.O()}]);