/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/process/route";
exports.ids = ["app/api/process/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "constants":
/*!****************************!*\
  !*** external "constants" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("constants");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "stream/promises":
/*!**********************************!*\
  !*** external "stream/promises" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream/promises");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:string_decoder":
/*!**************************************!*\
  !*** external "node:string_decoder" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:string_decoder");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.js&appDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.js&appDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_zelalemmekonnen_Desktop_PixelPeak_projects_label_creating_app_label_creating_app_label_creating_app_src_app_api_process_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/process/route.js */ \"(rsc)/./src/app/api/process/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/process/route\",\n        pathname: \"/api/process\",\n        filename: \"route\",\n        bundlePath: \"app/api/process/route\"\n    },\n    resolvedPagePath: \"/Users/zelalemmekonnen/Desktop/PixelPeak/projects/label-creating-app/label-creating-app/label-creating-app/src/app/api/process/route.js\",\n    nextConfigOutput,\n    userland: _Users_zelalemmekonnen_Desktop_PixelPeak_projects_label_creating_app_label_creating_app_label_creating_app_src_app_api_process_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwcm9jZXNzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9jZXNzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvY2VzcyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRnplbGFsZW1tZWtvbm5lbiUyRkRlc2t0b3AlMkZQaXhlbFBlYWslMkZwcm9qZWN0cyUyRmxhYmVsLWNyZWF0aW5nLWFwcCUyRmxhYmVsLWNyZWF0aW5nLWFwcCUyRmxhYmVsLWNyZWF0aW5nLWFwcCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ6ZWxhbGVtbWVrb25uZW4lMkZEZXNrdG9wJTJGUGl4ZWxQZWFrJTJGcHJvamVjdHMlMkZsYWJlbC1jcmVhdGluZy1hcHAlMkZsYWJlbC1jcmVhdGluZy1hcHAlMkZsYWJlbC1jcmVhdGluZy1hcHAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3VGO0FBQ3BLO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvemVsYWxlbW1la29ubmVuL0Rlc2t0b3AvUGl4ZWxQZWFrL3Byb2plY3RzL2xhYmVsLWNyZWF0aW5nLWFwcC9sYWJlbC1jcmVhdGluZy1hcHAvbGFiZWwtY3JlYXRpbmctYXBwL3NyYy9hcHAvYXBpL3Byb2Nlc3Mvcm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2Nlc3Mvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9jZXNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcm9jZXNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3plbGFsZW1tZWtvbm5lbi9EZXNrdG9wL1BpeGVsUGVhay9wcm9qZWN0cy9sYWJlbC1jcmVhdGluZy1hcHAvbGFiZWwtY3JlYXRpbmctYXBwL2xhYmVsLWNyZWF0aW5nLWFwcC9zcmMvYXBwL2FwaS9wcm9jZXNzL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.js&appDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/process/backend_work.js":
/*!*********************************************!*\
  !*** ./src/app/api/process/backend_work.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processFiles: () => (/* binding */ processFiles)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var csv_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! csv-parser */ \"(rsc)/../node_modules/csv-parser/index.js\");\n/* harmony import */ var csv_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(csv_parser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var stream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! stream */ \"stream\");\n/* harmony import */ var stream__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(stream__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var stream_promises__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! stream/promises */ \"stream/promises\");\n/* harmony import */ var stream_promises__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(stream_promises__WEBPACK_IMPORTED_MODULE_5__);\n/* \nTask:\n1. parse the csv coming from fronend\n2. grab the html template\n3. Put the logo image into the template\n4. Change the font into the uploaded font\n*/ \n\n\n\n\n\nasync function processFiles() {\n    try {\n        const uploadsDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'public', 'uploads');\n        // Read uploaded files\n        const files = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readdir(uploadsDir);\n        const template = files.find((f)=>f.endsWith('.html'));\n        const csv = files.find((f)=>f.endsWith('.csv'));\n        const logo = files.find((f)=>f.endsWith('.png') || f.endsWith('.jpg'));\n        const font = files.find((f)=>f.endsWith('.ttf') || f.endsWith('.otf'));\n        if (!template || !csv || !logo || !font) {\n            throw new Error('Missing required files');\n        }\n        // Read template\n        const templateContent = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(path__WEBPACK_IMPORTED_MODULE_1___default().join(uploadsDir, template), 'utf-8');\n        // Parse CSV\n        const records = [];\n        const csvStream = (0,fs__WEBPACK_IMPORTED_MODULE_3__.createReadStream)(path__WEBPACK_IMPORTED_MODULE_1___default().join(uploadsDir, csv)).pipe(csv_parser__WEBPACK_IMPORTED_MODULE_2___default()());\n        csvStream.on('data', (data)=>records.push(data));\n        await (0,stream_promises__WEBPACK_IMPORTED_MODULE_5__.finished)(csvStream);\n        // Generate files for each CSV record\n        const outputDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(uploadsDir, 'output');\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().mkdir(outputDir, {\n            recursive: true\n        });\n        // Debug logo processing\n        const logoPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(uploadsDir, logo);\n        console.log('Logo path:', logoPath);\n        // Verify file exists\n        const logoExists = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(logoPath).then(()=>true).catch(()=>false);\n        if (!logoExists) {\n            throw new Error(`Logo file not found at ${logoPath}`);\n        }\n        // Read and convert logo\n        const logoBase64 = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(logoPath, {\n            encoding: 'base64'\n        });\n        console.log('Logo converted to base64');\n        const logoExt = path__WEBPACK_IMPORTED_MODULE_1___default().extname(logo).substring(1);\n        console.log('Logo extension:', logoExt);\n        // Verify template has placeholder\n        if (!templateContent.includes('{{logo}}')) {\n            throw new Error('Logo placeholder not found in template');\n        }\n        const fontBase64 = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(path__WEBPACK_IMPORTED_MODULE_1___default().join(uploadsDir, font), {\n            encoding: 'base64'\n        });\n        // Process each record\n        for(let i = 0; i < records.length; i++){\n            let html = templateContent;\n            // Replace placeholders with CSV data\n            Object.entries(records[i]).forEach(([key, value])=>{\n                html = html.replace(new RegExp(`{{${key}}}`, 'g'), value);\n            });\n            // Insert logo with logging\n            const imgTag = `<img src=\"data:image/${logoExt};base64,${logoBase64}\" \n        style=\"max-width: 100%; height: auto;\" \n        alt=\"Logo\" />`;\n            console.log('Generated image tag');\n            html = html.replace('{{logo}}', imgTag);\n            console.log('Replaced logo placeholder');\n            // Insert custom font\n            html = html.replace('</head>', `<style>\n          @font-face {\n            font-family: 'CustomFont';\n            src: url(data:font/truetype;charset=utf-8;base64,${fontBase64});\n          }\n          body { font-family: 'CustomFont', sans-serif; }\n        </style>\n        </head>`);\n            // Save generated file\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(outputDir, `output_${i + 1}.html`);\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(outputPath, html);\n            console.log(`Saved file: ${outputPath}`);\n        }\n        return {\n            success: true,\n            count: records.length\n        };\n    } catch (error) {\n        console.error('Processing error:', error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcm9jZXNzL2JhY2tlbmRfd29yay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQU1BLEdBRTZCO0FBQ0w7QUFDVztBQUNHO0FBQ0o7QUFDUztBQUVwQyxlQUFlTTtJQUNwQixJQUFJO1FBQ0YsTUFBTUMsYUFBYU4sZ0RBQVMsQ0FBQ1EsUUFBUUMsR0FBRyxJQUFJLFVBQVU7UUFFdEQsc0JBQXNCO1FBQ3RCLE1BQU1DLFFBQVEsTUFBTVgsMERBQVUsQ0FBQ087UUFDL0IsTUFBTU0sV0FBV0YsTUFBTUcsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxRQUFRLENBQUM7UUFDNUMsTUFBTUMsTUFBTU4sTUFBTUcsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxRQUFRLENBQUM7UUFDdkMsTUFBTUUsT0FBT1AsTUFBTUcsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxRQUFRLENBQUMsV0FBV0QsRUFBRUMsUUFBUSxDQUFDO1FBQzlELE1BQU1HLE9BQU9SLE1BQU1HLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsUUFBUSxDQUFDLFdBQVdELEVBQUVDLFFBQVEsQ0FBQztRQUU5RCxJQUFJLENBQUNILFlBQVksQ0FBQ0ksT0FBTyxDQUFDQyxRQUFRLENBQUNDLE1BQU07WUFDdkMsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsZ0JBQWdCO1FBQ2hCLE1BQU1DLGtCQUFrQixNQUFNckIsMkRBQVcsQ0FDdkNDLGdEQUFTLENBQUNNLFlBQVlNLFdBQ3RCO1FBR0YsWUFBWTtRQUNaLE1BQU1VLFVBQVUsRUFBRTtRQUNsQixNQUFNQyxZQUFZckIsb0RBQWdCQSxDQUFDRixnREFBUyxDQUFDTSxZQUFZVSxNQUN0RFEsSUFBSSxDQUFDdkIsaURBQVNBO1FBRWpCc0IsVUFBVUUsRUFBRSxDQUFDLFFBQVEsQ0FBQ0MsT0FBU0osUUFBUUssSUFBSSxDQUFDRDtRQUM1QyxNQUFNdEIseURBQVFBLENBQUNtQjtRQUVmLHFDQUFxQztRQUNyQyxNQUFNSyxZQUFZNUIsZ0RBQVMsQ0FBQ00sWUFBWTtRQUN4QyxNQUFNUCx3REFBUSxDQUFDNkIsV0FBVztZQUFFRSxXQUFXO1FBQUs7UUFFNUMsd0JBQXdCO1FBQ3hCLE1BQU1DLFdBQVcvQixnREFBUyxDQUFDTSxZQUFZVztRQUN2Q2UsUUFBUUMsR0FBRyxDQUFDLGNBQWNGO1FBRTFCLHFCQUFxQjtRQUNyQixNQUFNRyxhQUFhLE1BQU1uQyx5REFBUyxDQUFDZ0MsVUFBVUssSUFBSSxDQUFDLElBQU0sTUFBTUMsS0FBSyxDQUFDLElBQU07UUFDMUUsSUFBSSxDQUFDSCxZQUFZO1lBQ2YsTUFBTSxJQUFJZixNQUFNLENBQUMsdUJBQXVCLEVBQUVZLFVBQVU7UUFDdEQ7UUFFQSx3QkFBd0I7UUFDeEIsTUFBTU8sYUFBYSxNQUFNdkMsMkRBQVcsQ0FBQ2dDLFVBQVU7WUFBRVEsVUFBVTtRQUFTO1FBQ3BFUCxRQUFRQyxHQUFHLENBQUM7UUFFWixNQUFNTyxVQUFVeEMsbURBQVksQ0FBQ2lCLE1BQU15QixTQUFTLENBQUM7UUFDN0NWLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUJPO1FBRS9CLGtDQUFrQztRQUNsQyxJQUFJLENBQUNwQixnQkFBZ0J1QixRQUFRLENBQUMsYUFBYTtZQUN6QyxNQUFNLElBQUl4QixNQUFNO1FBQ2xCO1FBRUEsTUFBTXlCLGFBQWEsTUFBTTdDLDJEQUFXLENBQ2xDQyxnREFBUyxDQUFDTSxZQUFZWSxPQUN0QjtZQUFFcUIsVUFBVTtRQUFTO1FBR3ZCLHNCQUFzQjtRQUN0QixJQUFLLElBQUlNLElBQUksR0FBR0EsSUFBSXZCLFFBQVF3QixNQUFNLEVBQUVELElBQUs7WUFDdkMsSUFBSUUsT0FBTzNCO1lBRVgscUNBQXFDO1lBQ3JDNEIsT0FBT0MsT0FBTyxDQUFDM0IsT0FBTyxDQUFDdUIsRUFBRSxFQUFFSyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxNQUFNO2dCQUM5Q0wsT0FBT0EsS0FBS00sT0FBTyxDQUFDLElBQUlDLE9BQU8sQ0FBQyxFQUFFLEVBQUVILElBQUksRUFBRSxDQUFDLEVBQUUsTUFBTUM7WUFDckQ7WUFFQSwyQkFBMkI7WUFDM0IsTUFBTUcsU0FBUyxDQUFDLHFCQUFxQixFQUFFZixRQUFRLFFBQVEsRUFBRUYsV0FBVzs7cUJBRXJELENBQUM7WUFDaEJOLFFBQVFDLEdBQUcsQ0FBQztZQUVaYyxPQUFPQSxLQUFLTSxPQUFPLENBQUMsWUFBWUU7WUFDaEN2QixRQUFRQyxHQUFHLENBQUM7WUFFWixxQkFBcUI7WUFDckJjLE9BQU9BLEtBQUtNLE9BQU8sQ0FDakIsV0FDQSxDQUFDOzs7NkRBR29ELEVBQUVULFdBQVc7Ozs7ZUFJM0QsQ0FBQztZQUdWLHNCQUFzQjtZQUN0QixNQUFNWSxhQUFheEQsZ0RBQVMsQ0FBQzRCLFdBQVcsQ0FBQyxPQUFPLEVBQUVpQixJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQzlELE1BQU05Qyw0REFBWSxDQUFDeUQsWUFBWVQ7WUFDL0JmLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRXVCLFlBQVk7UUFDekM7UUFFQSxPQUFPO1lBQUVFLFNBQVM7WUFBTUMsT0FBT3JDLFFBQVF3QixNQUFNO1FBQUM7SUFFaEQsRUFBRSxPQUFPYyxPQUFPO1FBQ2Q1QixRQUFRNEIsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvemVsYWxlbW1la29ubmVuL0Rlc2t0b3AvUGl4ZWxQZWFrL3Byb2plY3RzL2xhYmVsLWNyZWF0aW5nLWFwcC9sYWJlbC1jcmVhdGluZy1hcHAvbGFiZWwtY3JlYXRpbmctYXBwL3NyYy9hcHAvYXBpL3Byb2Nlc3MvYmFja2VuZF93b3JrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIFxuVGFzazpcbjEuIHBhcnNlIHRoZSBjc3YgY29taW5nIGZyb20gZnJvbmVuZFxuMi4gZ3JhYiB0aGUgaHRtbCB0ZW1wbGF0ZVxuMy4gUHV0IHRoZSBsb2dvIGltYWdlIGludG8gdGhlIHRlbXBsYXRlXG40LiBDaGFuZ2UgdGhlIGZvbnQgaW50byB0aGUgdXBsb2FkZWQgZm9udFxuKi9cblxuaW1wb3J0IGZzIGZyb20gJ2ZzL3Byb21pc2VzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGNzdlBhcnNlciBmcm9tICdjc3YtcGFyc2VyJztcbmltcG9ydCB7IGNyZWF0ZVJlYWRTdHJlYW0gfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gJ3N0cmVhbSc7XG5pbXBvcnQgeyBmaW5pc2hlZCB9IGZyb20gJ3N0cmVhbS9wcm9taXNlcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBsb2Fkc0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnKTtcbiAgICBcbiAgICAvLyBSZWFkIHVwbG9hZGVkIGZpbGVzXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHVwbG9hZHNEaXIpO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZmlsZXMuZmluZChmID0+IGYuZW5kc1dpdGgoJy5odG1sJykpO1xuICAgIGNvbnN0IGNzdiA9IGZpbGVzLmZpbmQoZiA9PiBmLmVuZHNXaXRoKCcuY3N2JykpO1xuICAgIGNvbnN0IGxvZ28gPSBmaWxlcy5maW5kKGYgPT4gZi5lbmRzV2l0aCgnLnBuZycpIHx8IGYuZW5kc1dpdGgoJy5qcGcnKSk7XG4gICAgY29uc3QgZm9udCA9IGZpbGVzLmZpbmQoZiA9PiBmLmVuZHNXaXRoKCcudHRmJykgfHwgZi5lbmRzV2l0aCgnLm90ZicpKTtcblxuICAgIGlmICghdGVtcGxhdGUgfHwgIWNzdiB8fCAhbG9nbyB8fCAhZm9udCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGZpbGVzJyk7XG4gICAgfVxuXG4gICAgLy8gUmVhZCB0ZW1wbGF0ZVxuICAgIGNvbnN0IHRlbXBsYXRlQ29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKFxuICAgICAgcGF0aC5qb2luKHVwbG9hZHNEaXIsIHRlbXBsYXRlKSwgXG4gICAgICAndXRmLTgnXG4gICAgKTtcblxuICAgIC8vIFBhcnNlIENTVlxuICAgIGNvbnN0IHJlY29yZHMgPSBbXTtcbiAgICBjb25zdCBjc3ZTdHJlYW0gPSBjcmVhdGVSZWFkU3RyZWFtKHBhdGguam9pbih1cGxvYWRzRGlyLCBjc3YpKVxuICAgICAgLnBpcGUoY3N2UGFyc2VyKCkpO1xuICAgIFxuICAgIGNzdlN0cmVhbS5vbignZGF0YScsIChkYXRhKSA9PiByZWNvcmRzLnB1c2goZGF0YSkpO1xuICAgIGF3YWl0IGZpbmlzaGVkKGNzdlN0cmVhbSk7XG5cbiAgICAvLyBHZW5lcmF0ZSBmaWxlcyBmb3IgZWFjaCBDU1YgcmVjb3JkXG4gICAgY29uc3Qgb3V0cHV0RGlyID0gcGF0aC5qb2luKHVwbG9hZHNEaXIsICdvdXRwdXQnKTtcbiAgICBhd2FpdCBmcy5ta2RpcihvdXRwdXREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgLy8gRGVidWcgbG9nbyBwcm9jZXNzaW5nXG4gICAgY29uc3QgbG9nb1BhdGggPSBwYXRoLmpvaW4odXBsb2Fkc0RpciwgbG9nbyk7XG4gICAgY29uc29sZS5sb2coJ0xvZ28gcGF0aDonLCBsb2dvUGF0aCk7XG4gICAgXG4gICAgLy8gVmVyaWZ5IGZpbGUgZXhpc3RzXG4gICAgY29uc3QgbG9nb0V4aXN0cyA9IGF3YWl0IGZzLmFjY2Vzcyhsb2dvUGF0aCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSk7XG4gICAgaWYgKCFsb2dvRXhpc3RzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYExvZ28gZmlsZSBub3QgZm91bmQgYXQgJHtsb2dvUGF0aH1gKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGFuZCBjb252ZXJ0IGxvZ29cbiAgICBjb25zdCBsb2dvQmFzZTY0ID0gYXdhaXQgZnMucmVhZEZpbGUobG9nb1BhdGgsIHsgZW5jb2Rpbmc6ICdiYXNlNjQnIH0pO1xuICAgIGNvbnNvbGUubG9nKCdMb2dvIGNvbnZlcnRlZCB0byBiYXNlNjQnKTtcbiAgICBcbiAgICBjb25zdCBsb2dvRXh0ID0gcGF0aC5leHRuYW1lKGxvZ28pLnN1YnN0cmluZygxKTtcbiAgICBjb25zb2xlLmxvZygnTG9nbyBleHRlbnNpb246JywgbG9nb0V4dCk7XG5cbiAgICAvLyBWZXJpZnkgdGVtcGxhdGUgaGFzIHBsYWNlaG9sZGVyXG4gICAgaWYgKCF0ZW1wbGF0ZUNvbnRlbnQuaW5jbHVkZXMoJ3t7bG9nb319JykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTG9nbyBwbGFjZWhvbGRlciBub3QgZm91bmQgaW4gdGVtcGxhdGUnKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb250QmFzZTY0ID0gYXdhaXQgZnMucmVhZEZpbGUoXG4gICAgICBwYXRoLmpvaW4odXBsb2Fkc0RpciwgZm9udCksXG4gICAgICB7IGVuY29kaW5nOiAnYmFzZTY0JyB9XG4gICAgKTtcblxuICAgIC8vIFByb2Nlc3MgZWFjaCByZWNvcmRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBodG1sID0gdGVtcGxhdGVDb250ZW50O1xuICAgICAgXG4gICAgICAvLyBSZXBsYWNlIHBsYWNlaG9sZGVycyB3aXRoIENTViBkYXRhXG4gICAgICBPYmplY3QuZW50cmllcyhyZWNvcmRzW2ldKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZShuZXcgUmVnRXhwKGB7eyR7a2V5fX19YCwgJ2cnKSwgdmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEluc2VydCBsb2dvIHdpdGggbG9nZ2luZ1xuICAgICAgY29uc3QgaW1nVGFnID0gYDxpbWcgc3JjPVwiZGF0YTppbWFnZS8ke2xvZ29FeHR9O2Jhc2U2NCwke2xvZ29CYXNlNjR9XCIgXG4gICAgICAgIHN0eWxlPVwibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87XCIgXG4gICAgICAgIGFsdD1cIkxvZ29cIiAvPmA7XG4gICAgICBjb25zb2xlLmxvZygnR2VuZXJhdGVkIGltYWdlIHRhZycpO1xuICAgICAgXG4gICAgICBodG1sID0gaHRtbC5yZXBsYWNlKCd7e2xvZ299fScsIGltZ1RhZyk7XG4gICAgICBjb25zb2xlLmxvZygnUmVwbGFjZWQgbG9nbyBwbGFjZWhvbGRlcicpO1xuXG4gICAgICAvLyBJbnNlcnQgY3VzdG9tIGZvbnRcbiAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoXG4gICAgICAgICc8L2hlYWQ+JyxcbiAgICAgICAgYDxzdHlsZT5cbiAgICAgICAgICBAZm9udC1mYWNlIHtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQ3VzdG9tRm9udCc7XG4gICAgICAgICAgICBzcmM6IHVybChkYXRhOmZvbnQvdHJ1ZXR5cGU7Y2hhcnNldD11dGYtODtiYXNlNjQsJHtmb250QmFzZTY0fSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0N1c3RvbUZvbnQnLCBzYW5zLXNlcmlmOyB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvaGVhZD5gXG4gICAgICApO1xuXG4gICAgICAvLyBTYXZlIGdlbmVyYXRlZCBmaWxlXG4gICAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKG91dHB1dERpciwgYG91dHB1dF8ke2kgKyAxfS5odG1sYCk7XG4gICAgICBhd2FpdCBmcy53cml0ZUZpbGUob3V0cHV0UGF0aCwgaHRtbCk7XG4gICAgICBjb25zb2xlLmxvZyhgU2F2ZWQgZmlsZTogJHtvdXRwdXRQYXRofWApO1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiByZWNvcmRzLmxlbmd0aCB9O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUHJvY2Vzc2luZyBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJjc3ZQYXJzZXIiLCJjcmVhdGVSZWFkU3RyZWFtIiwiUmVhZGFibGUiLCJmaW5pc2hlZCIsInByb2Nlc3NGaWxlcyIsInVwbG9hZHNEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImZpbGVzIiwicmVhZGRpciIsInRlbXBsYXRlIiwiZmluZCIsImYiLCJlbmRzV2l0aCIsImNzdiIsImxvZ28iLCJmb250IiwiRXJyb3IiLCJ0ZW1wbGF0ZUNvbnRlbnQiLCJyZWFkRmlsZSIsInJlY29yZHMiLCJjc3ZTdHJlYW0iLCJwaXBlIiwib24iLCJkYXRhIiwicHVzaCIsIm91dHB1dERpciIsIm1rZGlyIiwicmVjdXJzaXZlIiwibG9nb1BhdGgiLCJjb25zb2xlIiwibG9nIiwibG9nb0V4aXN0cyIsImFjY2VzcyIsInRoZW4iLCJjYXRjaCIsImxvZ29CYXNlNjQiLCJlbmNvZGluZyIsImxvZ29FeHQiLCJleHRuYW1lIiwic3Vic3RyaW5nIiwiaW5jbHVkZXMiLCJmb250QmFzZTY0IiwiaSIsImxlbmd0aCIsImh0bWwiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwicmVwbGFjZSIsIlJlZ0V4cCIsImltZ1RhZyIsIm91dHB1dFBhdGgiLCJ3cml0ZUZpbGUiLCJzdWNjZXNzIiwiY291bnQiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/process/backend_work.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/process/route.js":
/*!**************************************!*\
  !*** ./src/app/api/process/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _backend_work__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./backend_work */ \"(rsc)/./src/app/api/process/backend_work.js\");\n/* harmony import */ var archiver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! archiver */ \"(rsc)/../node_modules/archiver/index.js\");\n/* harmony import */ var archiver__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(archiver__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nasync function GET(request) {\n    try {\n        const result = await (0,_backend_work__WEBPACK_IMPORTED_MODULE_2__.processFiles)();\n        if (!result.success) {\n            throw new Error('Processing failed');\n        }\n        // Create ZIP archive\n        const archive = archiver__WEBPACK_IMPORTED_MODULE_3___default()('zip');\n        const chunks = [];\n        // Add input files\n        const uploadsDir = (0,path__WEBPACK_IMPORTED_MODULE_1__.join)(process.cwd(), 'public', 'uploads');\n        archive.directory(uploadsDir, 'input');\n        // Add generated files\n        const outputDir = (0,path__WEBPACK_IMPORTED_MODULE_1__.join)(process.cwd(), 'public', 'uploads', 'output');\n        archive.directory(outputDir, 'output');\n        archive.on('data', (chunk)=>chunks.push(chunk));\n        await new Promise((resolve, reject)=>{\n            archive.on('end', resolve);\n            archive.on('error', reject);\n            archive.finalize();\n        });\n        const buffer = Buffer.concat(chunks);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(buffer, {\n            status: 200,\n            headers: {\n                'Content-Type': 'application/zip',\n                'Content-Disposition': 'attachment; filename=all-files.zip'\n            }\n        });\n    } catch (error) {\n        console.error('Processing error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || 'Failed to process files'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcm9jZXNzL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkM7QUFDZjtBQUNrQjtBQUNkO0FBRXpCLGVBQWVJLElBQUlDLE9BQU87SUFDN0IsSUFBSTtRQUNBLE1BQU1DLFNBQVMsTUFBTUosMkRBQVlBO1FBRWpDLElBQUksQ0FBQ0ksT0FBT0MsT0FBTyxFQUFFO1lBQ2pCLE1BQU0sSUFBSUMsTUFBTTtRQUNwQjtRQUVBLHFCQUFxQjtRQUNyQixNQUFNQyxVQUFVTiwrQ0FBUUEsQ0FBQztRQUN6QixNQUFNTyxTQUFTLEVBQUU7UUFFakIsa0JBQWtCO1FBQ2xCLE1BQU1DLGFBQWFWLDBDQUFJQSxDQUFDVyxRQUFRQyxHQUFHLElBQUksVUFBVTtRQUNqREosUUFBUUssU0FBUyxDQUFDSCxZQUFZO1FBRTlCLHNCQUFzQjtRQUN0QixNQUFNSSxZQUFZZCwwQ0FBSUEsQ0FBQ1csUUFBUUMsR0FBRyxJQUFJLFVBQVUsV0FBVztRQUMzREosUUFBUUssU0FBUyxDQUFDQyxXQUFXO1FBRTdCTixRQUFRTyxFQUFFLENBQUMsUUFBUUMsQ0FBQUEsUUFBU1AsT0FBT1EsSUFBSSxDQUFDRDtRQUV4QyxNQUFNLElBQUlFLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDeEJaLFFBQVFPLEVBQUUsQ0FBQyxPQUFPSTtZQUNsQlgsUUFBUU8sRUFBRSxDQUFDLFNBQVNLO1lBQ3BCWixRQUFRYSxRQUFRO1FBQ3BCO1FBRUEsTUFBTUMsU0FBU0MsT0FBT0MsTUFBTSxDQUFDZjtRQUU3QixPQUFPLElBQUlWLHFEQUFZQSxDQUFDdUIsUUFBUTtZQUM1QkcsUUFBUTtZQUNSQyxTQUFTO2dCQUNMLGdCQUFnQjtnQkFDaEIsdUJBQXVCO1lBQzNCO1FBQ0o7SUFFSixFQUFFLE9BQU9DLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBTzVCLHFEQUFZQSxDQUFDOEIsSUFBSSxDQUFDO1lBQ3JCRixPQUFPQSxNQUFNRyxPQUFPLElBQUk7UUFDNUIsR0FBRztZQUFFTCxRQUFRO1FBQUk7SUFDckI7QUFDSiIsInNvdXJjZXMiOlsiL1VzZXJzL3plbGFsZW1tZWtvbm5lbi9EZXNrdG9wL1BpeGVsUGVhay9wcm9qZWN0cy9sYWJlbC1jcmVhdGluZy1hcHAvbGFiZWwtY3JlYXRpbmctYXBwL2xhYmVsLWNyZWF0aW5nLWFwcC9zcmMvYXBwL2FwaS9wcm9jZXNzL3JvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IHByb2Nlc3NGaWxlcyB9IGZyb20gJy4vYmFja2VuZF93b3JrJztcbmltcG9ydCBhcmNoaXZlciBmcm9tICdhcmNoaXZlcic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NGaWxlcygpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9jZXNzaW5nIGZhaWxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIFpJUCBhcmNoaXZlXG4gICAgICAgIGNvbnN0IGFyY2hpdmUgPSBhcmNoaXZlcignemlwJyk7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuXG4gICAgICAgIC8vIEFkZCBpbnB1dCBmaWxlc1xuICAgICAgICBjb25zdCB1cGxvYWRzRGlyID0gam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnKTtcbiAgICAgICAgYXJjaGl2ZS5kaXJlY3RvcnkodXBsb2Fkc0RpciwgJ2lucHV0Jyk7XG5cbiAgICAgICAgLy8gQWRkIGdlbmVyYXRlZCBmaWxlc1xuICAgICAgICBjb25zdCBvdXRwdXREaXIgPSBqb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAndXBsb2FkcycsICdvdXRwdXQnKTtcbiAgICAgICAgYXJjaGl2ZS5kaXJlY3Rvcnkob3V0cHV0RGlyLCAnb3V0cHV0Jyk7XG4gICAgICAgIFxuICAgICAgICBhcmNoaXZlLm9uKCdkYXRhJywgY2h1bmsgPT4gY2h1bmtzLnB1c2goY2h1bmspKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGFyY2hpdmUub24oJ2VuZCcsIHJlc29sdmUpO1xuICAgICAgICAgICAgYXJjaGl2ZS5vbignZXJyb3InLCByZWplY3QpO1xuICAgICAgICAgICAgYXJjaGl2ZS5maW5hbGl6ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuY29uY2F0KGNodW5rcyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoYnVmZmVyLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3ppcCcsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtRGlzcG9zaXRpb24nOiAnYXR0YWNobWVudDsgZmlsZW5hbWU9YWxsLWZpbGVzLnppcCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9jZXNzaW5nIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHByb2Nlc3MgZmlsZXMnIFxuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiam9pbiIsInByb2Nlc3NGaWxlcyIsImFyY2hpdmVyIiwiR0VUIiwicmVxdWVzdCIsInJlc3VsdCIsInN1Y2Nlc3MiLCJFcnJvciIsImFyY2hpdmUiLCJjaHVua3MiLCJ1cGxvYWRzRGlyIiwicHJvY2VzcyIsImN3ZCIsImRpcmVjdG9yeSIsIm91dHB1dERpciIsIm9uIiwiY2h1bmsiLCJwdXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaW5hbGl6ZSIsImJ1ZmZlciIsIkJ1ZmZlciIsImNvbmNhdCIsInN0YXR1cyIsImhlYWRlcnMiLCJlcnJvciIsImNvbnNvbGUiLCJqc29uIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/process/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/lodash","vendor-chunks/archiver-utils","vendor-chunks/compress-commons","vendor-chunks/archiver","vendor-chunks/crc32-stream","vendor-chunks/readable-stream","vendor-chunks/tar-stream","vendor-chunks/readdir-glob","vendor-chunks/graceful-fs","vendor-chunks/text-decoder","vendor-chunks/queue-tick","vendor-chunks/inherits","vendor-chunks/fast-fifo","vendor-chunks/async","vendor-chunks/path-scurry","vendor-chunks/minipass","vendor-chunks/lru-cache","vendor-chunks/buffer-crc32","vendor-chunks/zip-stream","vendor-chunks/util-deprecate","vendor-chunks/string_decoder","vendor-chunks/streamx","vendor-chunks/safe-buffer","vendor-chunks/process","vendor-chunks/process-nextick-args","vendor-chunks/lazystream","vendor-chunks/isarray","vendor-chunks/is-stream","vendor-chunks/event-target-shim","vendor-chunks/csv-parser","vendor-chunks/crc-32","vendor-chunks/core-util-is","vendor-chunks/balanced-match","vendor-chunks/b4a","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.js&appDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzelalemmekonnen%2FDesktop%2FPixelPeak%2Fprojects%2Flabel-creating-app%2Flabel-creating-app%2Flabel-creating-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();